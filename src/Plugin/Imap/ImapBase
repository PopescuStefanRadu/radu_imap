<?php
namespace Drupal\radu_imap\Plugin\Imap;

use Drupal\Core\Plugin\PluginBase;
use Drupal\Core\TypedData\Plugin\DataType\FloatData;
use Drupal\radu_imap\ImapInterface;
use Drupal\radu_imap\Server;

/**
 *
 * @Plugin(
 *   id = "imap_server"
 *   serverPath = "someString"
 *   port = "someString"
 *   service = "imap"
 *   )
 */
class ImapBase extends Server implements ImapInterface {

  public function moveMailToMailBox($msglist, $mailbox, $options = 0) {
    $result = imap_mail_move($this->getImapStream(),
      $msglist,
      $this->getServerSpecification() . $mailbox,
      $options
    );
    return $result;
  }

  public function copyMailToMailBox($msglist, $mailbox, $options = 0) {
    $result = imap_mail_copy(
      $this->getImapStream(),
      $msglist,
      $this->getServerSpecification() . $mailbox,
      $options
    );
    return $result;
  }

  public function deleteMail($msg_number, $options = 0) {
    $result = imap_delete($this->getImapStream(),$msg_number,$options);
    return $result;
  }

  public function undeleteMail($msg_number, $options = 0) {
    $result = imap_undelete($this->getImapStream(),$msg_number,$options);
    return $result;
  }

}